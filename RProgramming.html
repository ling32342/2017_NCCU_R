<!DOCTYPE html>
<html>
<head>
  <title>R Programming</title>

  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="generator" content="pandoc" />




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <base target="_blank">

  <script type="text/javascript">
    var SLIDE_CONFIG = {
      // Slide settings
      settings: {
                title: 'R Programming',
                        useBuilds: true,
        usePrettify: true,
        enableSlideAreas: true,
        enableTouch: true,
                      },

      // Author information
      presenters: [
            {
        name:  'Peng-Wen Lin (Source from Johnson Hsieh)' ,
        company: '',
        gplus: '',
        twitter: '',
        www: '',
        github: ''
      },
            ]
    };
  </script>

  <link href="RProgramming_files/ioslides-13.5.1/fonts/fonts.css" rel="stylesheet" />
  <link href="RProgramming_files/ioslides-13.5.1/theme/css/default.css" rel="stylesheet" />
  <link href="RProgramming_files/ioslides-13.5.1/theme/css/phone.css" rel="stylesheet" />
  <script src="RProgramming_files/ioslides-13.5.1/js/modernizr.custom.45394.js"></script>
  <script src="RProgramming_files/ioslides-13.5.1/js/prettify/prettify.js"></script>
  <script src="RProgramming_files/ioslides-13.5.1/js/prettify/lang-r.js"></script>
  <script src="RProgramming_files/ioslides-13.5.1/js/prettify/lang-yaml.js"></script>
  <script src="RProgramming_files/ioslides-13.5.1/js/hammer.js"></script>
  <script src="RProgramming_files/ioslides-13.5.1/js/slide-controller.js"></script>
  <script src="RProgramming_files/ioslides-13.5.1/js/slide-deck.js"></script>

  <style type="text/css">

    b, strong {
      font-weight: bold;
    }

    em {
      font-style: italic;
    }

    slides > slide {
      -webkit-transition: all 0.4s ease-in-out;
      -moz-transition: all 0.4s ease-in-out;
      -o-transition: all 0.4s ease-in-out;
      transition: all 0.4s ease-in-out;
    }

    .auto-fadein {
      -webkit-transition: opacity 0.6s ease-in;
      -webkit-transition-delay: 0.4s;
      -moz-transition: opacity 0.6s ease-in 0.4s;
      -o-transition: opacity 0.6s ease-in 0.4s;
      transition: opacity 0.6s ease-in 0.4s;
      opacity: 0;
    }

  </style>

  <link rel="stylesheet" href="css/dsp.css" type="text/css" />

</head>

<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
        <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
          </hgroup>
  </slide>

<slide class=''><hgroup><h2>About me</h2></hgroup><article  id="about-me">

<div style='float:left;width:60%;'>

<p><strong>國立政治大學統計所碩二 林芃彣</strong></p>

<h4><strong>Experience</strong></h4>

<p>

<ul>
<li>健保資料庫分析團隊</li>
<li>給軟體工程師的R語言精要班助教</li>
<li>D4SG資料英雄計畫 #3</li>
<li>無象限有限公司實習生(2017.10-now)</li>
<li>2017 第一屆政大資料競賽 亞軍</li>
<li>2017 亞洲跨國黑客松決賽 最佳黑客獎</li>
<li>2017 台電能源永續黑客松 第三名

</div></li>
</ul>

<div style='float:left;width:40%;'>

<p><br></p>

<h4><strong>Skills</strong></h4>

<p>

<ul>
<li>R</li>
<li>SQL Server

</div></li>
</ul>

<div style='float:left;width:40%;'>


<h4><strong>Contact me</strong></h4>

<p>

<ul>
<li><a href='https://github.com/pongponglin' title=''>Github</a></li>
<li><a href='https://www.linkedin.com/in/peng-wen-lin-309839153/' title=''>Linkin</a></li>
<li><a href='mailto:nicole19940331@gmail.com' title=''>nicole19940331@gmail.com</a>

</div></li>
</ul>

</article></slide><slide class=''><hgroup><h2>上禮拜要會的事</h2></hgroup><article >

<ul>
<li>建立 R 的使用環境</li>
<li>熟悉 R 語言基礎操作

<ul>
<li>敘述句、數列</li>
<li>查詢說明檔</li>
</ul></li>
<li>了解 R 語言的物件的結構

<ul>
<li>變數型態：logical、numeric、character、factor</li>
<li>資料存放容器：list、data.frame</li>
</ul></li>
</ul>

</article></slide><slide class=''><hgroup><h2>這禮拜目標</h2></hgroup><article >

<ul>
<li>體會 R 語言的流程控制</li>
<li>學習 R 語言的資料整理</li>
<li>確立 R 語言的資料爬析概念</li>
</ul>

</article></slide><slide class=''><hgroup><h2>資料處理流程</h2></hgroup><article >

<ul>
<li>資料採集<br/></li>
<li>資料清洗處理<br/></li>
<li>統計及分析<br/></li>
<li>視覺呈現<br/></li>
<li>報告產出<br/><br/><br/>

<p style="color:#0000C6;font-size:36px;">

這些都是R可以辦到的事情！

</p></li>
</ul>

</article></slide><slide class='segue dark nobackground level1'><hgroup class = 'auto-fadein'><h2>Ch01：表格型文件的輸入與輸出</h2></hgroup><article  id="ch01">

</article></slide><slide class=''><hgroup><h2>讀取檔案</h2></hgroup><article >

<ul>
<li>在資料處理之前</li>
</ul>

<p style="color:#0000C6;font-size:36px;">

先搞定怎麼把資料讀進來！

</p>

<p></br></p>

<ul>
<li>在讀取資料進來之前</li>
</ul>

<p style="color:#0000C6;font-size:36px;">

先搞清楚所在路徑位置！

</p>

</article></slide><slide class=''><hgroup><h2>淺談路徑設定</h2></hgroup><article >

<ul>
<li><code>getwd</code> 查詢目前所在的資料夾路徑 (絕對路徑)</li>
<li><code>setwd</code> 設定所在的資料夾路徑 <br> (Session -&gt; Set Working Directory -&gt; Choose Directory)</li>
<li>檔案 (檔案路徑 file directory) vs. 資料夾 (工作路徑 working directory)</li>
</ul>

<pre class = 'prettyprint lang-r'>getwd()</pre>

<pre >[1] &quot;/Users/apple/nicole/R code/Github/2017NCCU_R&quot;</pre>

<pre class = 'prettyprint lang-r'># Mac
setwd(&quot;/Users/apple/nicole/R code&quot;)
# Windows 若複製路徑記得要改斜線！
# D:\桌面\PONG\Rcode
setwd(&quot;D:/桌面/PONG/Rcode&quot;)

dat &lt;- read.csv(&quot;hsb.csv&quot;)</pre>

</article></slide><slide class=''><hgroup><h2>讀取表格檔案</h2></hgroup><article >

<p>讀取自己電腦裡的csv檔/txt檔</p>

<pre class = 'prettyprint lang-r'># 方法1. 透過介面選擇檔案所在路徑
path &lt;- file.choose()
dat &lt;- read.csv(path)

# 方法2. 自行輸入檔案絕對路徑
path &lt;- &quot;/Volumes/LEEF SURGE/LearnR/hsb.csv&quot;
dat &lt;- read.csv(path)

dat &lt;- read.table(&quot;/Volumes/LEEF SURGE/LearnR/hsb.txt&quot;)

# 方法3. 相對路徑
dat &lt;- read.csv(&quot;hsb.csv&quot;)
dat &lt;- read.table(&quot;hsb.txt&quot;)</pre>

</article></slide><slide class=''><hgroup><h2>讀取表格檔案</h2></hgroup><article  id="-1">

<ul>
<li>下載範例資料 <a href='https://pongponglin.github.io/2017NCCU_R/data/hsb.csv' title=''>https://pongponglin.github.io/2017NCCU_R/data/hsb.csv</a> (點擊即會下載)</li>
<li>利用<code>read.csv</code> 讀取 <code>csv</code> 檔 (一種以逗點分隔欄位的資料格式)</li>
</ul>

<pre class = 'prettyprint lang-r'># 可以使用R指令來下載
url &lt;- &quot;https://pongponglin.github.io/2017NCCU_R/data/hsb.csv&quot;
download.file(url, destfile = &quot;hsb.csv&quot;) # 把檔案另存成hbs.csv
dat &lt;- read.csv(&quot;hsb.csv&quot;)
head(dat)</pre>

<pre >   id    sex  race ses schtyp       prog read write math science socst
1  70   male White   1 public    general   57    52   41      47    57
2 121 female White   2 public vocational   68    59   53      63    61
3  86   male White   3 public    general   44    33   54      58    31
4 141   male White   3 public vocational   63    44   47      53    56
5 172   male White   2 public   academic   47    52   57      53    61
6 113   male White   2 public   academic   44    52   51      63    61</pre>

</article></slide><slide class=''><hgroup><h2>排解疑難1 - 路徑錯誤</h2></hgroup><article  id="1---">

<pre class = 'prettyprint lang-r'>path &lt;- &quot;wrong_file_path&quot;
dat &lt;- read.csv(file = path)</pre>

<pre>
Error in file(file, "rt") : 無法開啟連結
此外: Warning message:
  In file(file, "rt") : 無法開啟檔案 'wrong_file_path' ：No such file or directory
</pre>

<ul>
<li>絕對路徑 -&gt; 確認檔案是否存在</li>
<li>相對路徑 -&gt; 利用<code>getwd</code>了解R 當下的路徑位置</li>
</ul>

</article></slide><slide class=''><hgroup><h2>排解疑難2 - 格式錯誤</h2></hgroup><article  id="2---">

<pre class = 'prettyprint lang-r'>path &lt;- &quot;hsb.csv&quot;
dat &lt;- read.csv(file = path, header = TRUE, sep = &quot;1&quot;)</pre>

<pre>
Error in read.table(file = file, header = header, sep = sep, quote = quote,  : 
  more columns than column names
</pre>

<ul>
<li>利用其他編輯器確認分隔符號</li>
<li>確認每列的資料的欄位是正確的</li>
<li>必要時，請用其他文件編輯器校正欲讀取的檔案</li>
</ul>

</article></slide><slide class=''><hgroup><h2>排解疑難3 - 編碼錯誤</h2></hgroup><article  id="3---">

<pre class = 'prettyprint lang-r'>url &lt;- &quot;https://pongponglin.github.io/2017NCCU_R/%E8%B2%B7%E8%B3%A3st_A_10109_10109.csv&quot;</pre>

<pre class = 'prettyprint lang-r'>dat &lt;- read.csv(url)</pre>

<pre class="code">
Error in make.names(col.names, unique = TRUE) : 
  無效的多位元組字串於 <b6>m<c2><ed><a5><ab><b0><cf>
</pre>

<ul>
<li>查詢檔案的編碼</li>
<li>常見的中文編碼有UTF-8和BIG-5</li>
</ul>

<pre class = 'prettyprint lang-r'># 利用`fileEncoding`參數選擇檔案編碼 - big5 / utf8
dat2 &lt;- read.csv(url, fileEncoding = &quot;utf8&quot;)</pre>

</article></slide><slide class=''><hgroup><h2>輸出表格檔案</h2></hgroup><article >

<p>利用<code>write.csv</code>將<code>data.frame</code>格式的R物件另存成csv檔</p>

<pre class = 'prettyprint lang-r'>write.csv(dat, &quot;hsb_new.csv&quot;, row.names=FALSE, fileEncoding = &quot;utg8&quot;)</pre>

</article></slide><slide class=''><hgroup><h2>讀取其他軟體資料集</h2></hgroup><article >

<ul>
<li>For SPSS and Stata datasets, use the <code>foreign</code> package</li>
<li>Cars: <a href='http://calcnet.mth.cmich.edu/org/spss/V16_materials/DataSets_v16/Cars.sav' title=''>Cars.sav</a></li>
<li>Milk Production: <a href='http://www.ats.ucla.edu/stat/stata/examples/chp/p004.dta' title=''>p004.dat</a></li>
</ul>

<pre class = 'prettyprint lang-r'># install.packages(&quot;foreign&quot;) # 安裝R套件 foreign
library(foreign) # 載入套件 
cars &lt;- read.spss(&quot;data/Cars.sav&quot;, to.data.frame = TRUE)
milk &lt;- read.dta(&quot;data/p004.dta&quot;)
# head(cars)
# head(milk)</pre>

</article></slide><slide class=''><hgroup><h2>讀取其他軟體資料集</h2></hgroup><article  id="-1">

<ul>
<li>For SAS datasets, use the <code>sas7bdat</code> package</li>
<li>airline: <a href='http://www.principlesofeconometrics.com/sas/airline.sas7bdat' title=''>airline.sas7bdat</a></li>
</ul>

<pre class = 'prettyprint lang-r'># install.packages(&quot;sas7bdat&quot;)
library(sas7bdat)
airline &lt;- read.sas7bdat(&quot;data/airline.sas7bdat&quot;)
head(airline)</pre>

<pre >  YEAR     Y     W      R     L     K
1 1948 1.214 0.243 0.1454 1.415 0.612
2 1949 1.354 0.260 0.2181 1.384 0.559
3 1950 1.569 0.278 0.3157 1.388 0.573
4 1951 1.948 0.297 0.3940 1.550 0.564
5 1952 2.265 0.310 0.3559 1.802 0.574
6 1953 2.731 0.322 0.3593 1.926 0.711</pre>

</article></slide><slide class='segue dark nobackground level1'><hgroup class = 'auto-fadein'><h2>Ch02：讀取網頁內容(Lite)</h2></hgroup><article  id="ch02lite">

</article></slide><slide class=''><hgroup><h2>逐行輸入與輸出</h2></hgroup><article >

<ul>
<li><code>readLines</code>, <code>writeLines</code></li>
<li>是讀取網頁原始碼的好工具</li>
</ul>

<pre class = 'prettyprint lang-r'>output &lt;- file(&quot;data/output.txt&quot;)
writeLines(as.character(1:12), con = output)
input &lt;- readLines(output)
input</pre>

<pre > [1] &quot;1&quot;  &quot;2&quot;  &quot;3&quot;  &quot;4&quot;  &quot;5&quot;  &quot;6&quot;  &quot;7&quot;  &quot;8&quot;  &quot;9&quot;  &quot;10&quot; &quot;11&quot; &quot;12&quot;</pre>

</article></slide><slide class=''><hgroup><h2>逐行輸入與輸出</h2></hgroup><article  id="-1">

<ul>
<li><code>readLines</code>也可以用來讀取檔案</li>
</ul>

<pre class = 'prettyprint lang-r'>readLines(&quot;data/hsb.csv&quot;, n=5, encoding = &quot;utf8&quot;)</pre>

<pre >[1] &quot;id,sex,race,ses,schtyp,prog,read,write,math,science,socst&quot;
[2] &quot;70,male,White,1,public,general,57,52,41,47,57&quot;            
[3] &quot;121,female,White,2,public,vocational,68,59,53,63,61&quot;      
[4] &quot;86,male,White,3,public,general,44,33,54,58,31&quot;            
[5] &quot;141,male,White,3,public,vocational,63,44,47,53,56&quot;        </pre>

</article></slide><slide class=''><hgroup><h2>練習</h2></hgroup><article >

<p>從<a href='http://www.buzzhand.com/post_365903.html' title=''>網頁中</a>，找出藝人官方身高</p>

<pre class = 'prettyprint lang-r'>web_page &lt;- readLines(&quot;http://www.buzzhand.com/post_365903.html&quot;)
matches &lt;- gregexpr(&quot;[\u4E00-\u9FA5]+官方身高：[0-9]+cm&quot;, web_page)
tmp &lt;- regmatches(web_page, matches)
unlist(tmp)</pre>

<pre > [1] &quot;張梓琳官方身高：182cm&quot; &quot;周迅官方身高：160cm&quot;  
 [3] &quot;林志玲官方身高：173cm&quot; &quot;韓庚官方身高：181cm&quot;  
 [5] &quot;張翰官方身高：184cm&quot;   &quot;何炅官方身高：172cm&quot;  
 [7] &quot;陳喬恩官方身高：165cm&quot; &quot;宋慧喬官方身高：161cm&quot;
 [9] &quot;伊能靜官方身高：161cm&quot; &quot;倪妮官方身高：170cm&quot;  
[11] &quot;宋慧喬官方身高：161cm&quot; &quot;周迅官方身高：160cm&quot;  
[13] &quot;全智賢官方身高：174cm&quot;</pre>

<blockquote>
<p>其中： [E00-FA5] 表示所有中文字符 ; [0-9] 含數字之字串 ; [a]+ 一或多個 a</p>
</blockquote>

</article></slide><slide class=''><hgroup><h2>進階練習</h2></hgroup><article >

<p>找出<a href='http://www.319papago.idv.tw/lifeinfo/chingshin/chingshin-02.html' title=''>清心福全</a>台北市南港店的地址</p>

<pre class = 'prettyprint lang-r'># gregexpr要怎麼用？輸入：?gregexpr
web_page &lt;- readLines(&quot;http://www.319papago.idv.tw/lifeinfo/chingshin/chingshin-02.html&quot;)
matches &lt;- gregexpr(&quot;台北市南港區[\u4E00-\u9FA5|0-9|(|)]+&quot;, web_page)
tmp &lt;- regmatches(web_page, matches)
unlist(tmp) # 把 list 轉成 vector</pre>

<pre >[1] &quot;台北市南港區南港路3段20號&quot;   &quot;台北市南港區南港路一段154號&quot;</pre>

</article></slide><slide class=''><hgroup><h2>小挑戰</h2></hgroup><article >

<ul>
<li>找出清心福全台北市門市的電話號碼</li>
<li>提示：<code>&quot;02-[0-9]+&quot;</code></li>
</ul>

</article></slide><slide class=''><hgroup><h2>小挑戰</h2></hgroup><article  id="-1">

<ul>
<li>找出清心福全台北市門市的電話號碼</li>
<li>提示：<code>&quot;02-[0-9]+&quot;</code></li>
</ul>

<h3>參考解答</h3>

<pre class = 'prettyprint lang-r'>web_page &lt;- readLines(&quot;http://www.319papago.idv.tw/lifeinfo/chingshin/chingshin-02.html&quot;)
matches &lt;- gregexpr(&quot;02-[0-9]+&quot;, web_page)
tmp &lt;- regmatches(web_page, matches)
unlist(tmp) </pre>

<pre > [1] &quot;02-28761717&quot; &quot;02-28311515&quot; &quot;02-28805757&quot; &quot;02-28829191&quot; &quot;02-28126988&quot;
 [6] &quot;02-28835757&quot; &quot;02-28335151&quot; &quot;02-28382099&quot; &quot;02-25993301&quot; &quot;02-25964768&quot;
[11] &quot;02-25581177&quot; &quot;02-25581777&quot; &quot;02-25507985&quot; &quot;02-23256696&quot; &quot;02-27772151&quot;
[16] &quot;02-27041995&quot; &quot;02-87327588&quot; &quot;02-23568851&quot; &quot;02-27014040&quot; &quot;02-23661900&quot;
[21] &quot;02-27336155&quot; &quot;02-25335922&quot; &quot;02-25330098&quot; &quot;02-25412121&quot; &quot;02-25860202&quot;
[26] &quot;02-25423939&quot; &quot;02-27192519&quot; &quot;02-25007119&quot; &quot;02-27733737&quot; &quot;02-25042858&quot;
[31] &quot;02-25991177&quot; &quot;02-23883315&quot; &quot;02-33225069&quot; &quot;02-23753889&quot; &quot;02-23675160&quot;
[36] &quot;02-23710880&quot; &quot;02-23678838&quot; &quot;02-27940591&quot; &quot;02-87971968&quot; &quot;02-27996737&quot;
[41] &quot;02-26306626&quot; &quot;02-27903186&quot; &quot;02-29366236&quot; &quot;02-89351381&quot; &quot;02-29342121&quot;
[46] &quot;02-29305939&quot; &quot;02-28910379&quot; &quot;02-28917784&quot; &quot;02-28278806&quot; &quot;02-28978088&quot;
[51] &quot;02-28286161&quot; &quot;02-28583399&quot; &quot;02-28223996&quot; &quot;02-25288288&quot; &quot;02-27531966&quot;
[56] &quot;02-25775296&quot; &quot;02-27629786&quot; &quot;02-25212012&quot; &quot;02-27611525&quot; &quot;02-27323861&quot;
[61] &quot;02-27677158&quot; &quot;02-27272373&quot; &quot;02-27587181&quot; &quot;02-27882811&quot; &quot;02-26532371&quot;
[66] &quot;02-23091959&quot; &quot;02-23143280&quot; &quot;02-23111818&quot; &quot;02-23024378&quot; &quot;02-23026069&quot;
[71] &quot;02-23328618&quot;</pre>

</article></slide><slide class=''><hgroup><h2>補充資料</h2></hgroup><article >

<ul>
<li><a href='https://github.com/wush978/DataScienceAndR' title=''>Learn R in R (Swirls)</a></li>
<li><a href='https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf' title=''>Data Wrangling Cheatsheet</a></li>
<li><a href='https://cran.rstudio.com/web/packages/dplyr/vignettes/introduction.html' title=''>Introduction to dplyr</a></li>
<li><a href='http://seananderson.ca/2013/10/19/reshape.html' title=''>An Introduction to reshape2</a></li>
<li><a href='http://www.cookbook-r.com/' title=''>Cookbook for R</a></li>
</ul>

</article></slide><slide class=''><hgroup><h2>繼續學習之路</h2></hgroup><article >

<ul>
<li>了解自己的需求，詢問關鍵字與函數</li>
<li><a href='http://www.meetup.com/Taiwan-R' title=''>Taiwan R User Group</a>，mailing list: <a href='mailto:Taiwan-useR-Group-list@meetup.com' title=''>Taiwan-useR-Group-list@meetup.com</a></li>
<li><a href='https://www.ptt.cc/bbs/R_Language/index.html' title=''>ptt R_Language版</a></li>
<li><a href='https://groups.google.com/forum/#!forum/taiwanruser' title=''>R軟體使用者論壇</a></li>
<li><a href='http://stackoverflow.com/' title=''>StackOverflow</a></li>
<li>歡迎來信 <a href='mailto:ling32342@gmail.com' title=''>ling32342@gmail.com</a> 、 <a href='mailto:lillian60222@gmail.com' title=''>lillian60222@gmail.com</a> 與我們一起交流！</li>
</ul></article></slide>


  <slide class="backdrop"></slide>

</slides>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!-- map slide visiblity events into shiny -->
<script>
  (function() {
    if (window.jQuery) {
       window.jQuery(document).on('slideleave', function(e) {
         window.jQuery(e.target).trigger('hidden');
      });
       window.jQuery(document).on('slideenter', function(e) {
         window.jQuery(e.target).trigger('shown');
      });
    }
  })();
</script>

</body>
</html>
